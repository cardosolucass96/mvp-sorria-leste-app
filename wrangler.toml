#:schema node_modules/wrangler/config-schema.json

name = "sorria-leste-app"
main = ".open-next/worker.js"
compatibility_date = "2024-12-30"
compatibility_flags = ["nodejs_compat", "global_fetch_strictly_public"]

# Diretório de assets estáticos
[assets]
directory = ".open-next/assets"
binding = "ASSETS"

# Binding do D1 Database
[[d1_databases]]
binding = "DB"
database_name = "sorria-leste-db"
database_id = "1a32c7e9-c5e7-4c53-89f0-3169d2ba7e4f"

# Self-reference para middleware
[[services]]
binding = "WORKER_SELF_REFERENCE"
service = "sorria-leste-app"

# Configuração para desenvolvimento local
[dev]
port = 8788

# Variáveis de ambiente
[vars]
ENVIRONMENT = "production"
